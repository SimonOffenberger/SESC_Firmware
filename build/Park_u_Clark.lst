ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Park_u_Clark.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.sin_from_table,"ax",%progbits
  20              		.align	1
  21              		.global	sin_from_table
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	sin_from_table:
  27              	.LVL0:
  28              	.LFB167:
  29              		.file 1 "Core/Src/Park_u_Clark.c"
   1:Core/Src/Park_u_Clark.c **** /**
   2:Core/Src/Park_u_Clark.c ****   ******************************************************************************
   3:Core/Src/Park_u_Clark.c ****   * @file    adc.c
   4:Core/Src/Park_u_Clark.c ****   * @brief   This file provides code for the configuration
   5:Core/Src/Park_u_Clark.c ****   *          of the ADC instances.
   6:Core/Src/Park_u_Clark.c ****   ******************************************************************************
   7:Core/Src/Park_u_Clark.c ****   * @attention
   8:Core/Src/Park_u_Clark.c ****   *
   9:Core/Src/Park_u_Clark.c ****   * <h2><center>&copy; Copyright (c) 2021 STMicroelectronics.
  10:Core/Src/Park_u_Clark.c ****   * All rights reserved.</center></h2>
  11:Core/Src/Park_u_Clark.c ****   *
  12:Core/Src/Park_u_Clark.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  13:Core/Src/Park_u_Clark.c ****   * the "License"; You may not use this file except in compliance with the
  14:Core/Src/Park_u_Clark.c ****   * License. You may obtain a copy of the License at:
  15:Core/Src/Park_u_Clark.c ****   *                        opensource.org/licenses/BSD-3-Clause
  16:Core/Src/Park_u_Clark.c ****   *
  17:Core/Src/Park_u_Clark.c ****   ******************************************************************************
  18:Core/Src/Park_u_Clark.c ****   */
  19:Core/Src/Park_u_Clark.c **** 
  20:Core/Src/Park_u_Clark.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/Park_u_Clark.c **** #include "Park_u_Clark.h"
  22:Core/Src/Park_u_Clark.c **** #include "global_var.h"
  23:Core/Src/Park_u_Clark.c **** #include <string.h>
  24:Core/Src/Park_u_Clark.c **** #include <stdio.h>
  25:Core/Src/Park_u_Clark.c **** #include <stdlib.h>
  26:Core/Src/Park_u_Clark.c **** #include "arm_math.h"
  27:Core/Src/Park_u_Clark.c ****  
  28:Core/Src/Park_u_Clark.c **** 
  29:Core/Src/Park_u_Clark.c **** const SIN_TABLE[91]={
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 2


  30:Core/Src/Park_u_Clark.c **** 		0		 ,
  31:Core/Src/Park_u_Clark.c **** 		18       ,
  32:Core/Src/Park_u_Clark.c **** 		36       ,
  33:Core/Src/Park_u_Clark.c **** 		54       ,
  34:Core/Src/Park_u_Clark.c **** 		71       ,
  35:Core/Src/Park_u_Clark.c **** 		89       ,
  36:Core/Src/Park_u_Clark.c **** 		107      ,
  37:Core/Src/Park_u_Clark.c **** 		125      ,
  38:Core/Src/Park_u_Clark.c **** 		143      ,
  39:Core/Src/Park_u_Clark.c **** 		160      ,
  40:Core/Src/Park_u_Clark.c **** 		178      ,
  41:Core/Src/Park_u_Clark.c **** 		195      ,
  42:Core/Src/Park_u_Clark.c **** 		213      ,
  43:Core/Src/Park_u_Clark.c **** 		230      ,
  44:Core/Src/Park_u_Clark.c **** 		248      ,
  45:Core/Src/Park_u_Clark.c **** 		265      ,
  46:Core/Src/Park_u_Clark.c **** 		282      ,
  47:Core/Src/Park_u_Clark.c **** 		299      ,
  48:Core/Src/Park_u_Clark.c **** 		316      ,
  49:Core/Src/Park_u_Clark.c **** 		333      ,
  50:Core/Src/Park_u_Clark.c **** 		350      ,
  51:Core/Src/Park_u_Clark.c **** 		367      ,
  52:Core/Src/Park_u_Clark.c **** 		384      ,
  53:Core/Src/Park_u_Clark.c **** 		400      ,
  54:Core/Src/Park_u_Clark.c **** 		416      ,
  55:Core/Src/Park_u_Clark.c **** 		433      ,
  56:Core/Src/Park_u_Clark.c **** 		449      ,
  57:Core/Src/Park_u_Clark.c **** 		465      ,
  58:Core/Src/Park_u_Clark.c **** 		481      ,
  59:Core/Src/Park_u_Clark.c **** 		496      ,
  60:Core/Src/Park_u_Clark.c **** 		512      ,
  61:Core/Src/Park_u_Clark.c **** 		527      ,
  62:Core/Src/Park_u_Clark.c **** 		543      ,
  63:Core/Src/Park_u_Clark.c **** 		558      ,
  64:Core/Src/Park_u_Clark.c **** 		573      ,
  65:Core/Src/Park_u_Clark.c **** 		587      ,
  66:Core/Src/Park_u_Clark.c **** 		602      ,
  67:Core/Src/Park_u_Clark.c **** 		616      ,
  68:Core/Src/Park_u_Clark.c **** 		630      ,
  69:Core/Src/Park_u_Clark.c **** 		644      ,
  70:Core/Src/Park_u_Clark.c **** 		658      ,
  71:Core/Src/Park_u_Clark.c **** 		672      ,
  72:Core/Src/Park_u_Clark.c **** 		685      ,
  73:Core/Src/Park_u_Clark.c **** 		698      ,
  74:Core/Src/Park_u_Clark.c **** 		711      ,
  75:Core/Src/Park_u_Clark.c **** 		724      ,
  76:Core/Src/Park_u_Clark.c **** 		737      ,
  77:Core/Src/Park_u_Clark.c **** 		749      ,
  78:Core/Src/Park_u_Clark.c **** 		761      ,
  79:Core/Src/Park_u_Clark.c **** 		773      ,
  80:Core/Src/Park_u_Clark.c **** 		784      ,
  81:Core/Src/Park_u_Clark.c **** 		796      ,
  82:Core/Src/Park_u_Clark.c **** 		807      ,
  83:Core/Src/Park_u_Clark.c **** 		818      ,
  84:Core/Src/Park_u_Clark.c **** 		828      ,
  85:Core/Src/Park_u_Clark.c **** 		839      ,
  86:Core/Src/Park_u_Clark.c **** 		849      ,
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 3


  87:Core/Src/Park_u_Clark.c **** 		859      ,
  88:Core/Src/Park_u_Clark.c **** 		868      ,
  89:Core/Src/Park_u_Clark.c **** 		878      ,
  90:Core/Src/Park_u_Clark.c **** 		887      ,
  91:Core/Src/Park_u_Clark.c **** 		896      ,
  92:Core/Src/Park_u_Clark.c **** 		904      ,
  93:Core/Src/Park_u_Clark.c **** 		912      ,
  94:Core/Src/Park_u_Clark.c **** 		920      ,
  95:Core/Src/Park_u_Clark.c **** 		928      ,
  96:Core/Src/Park_u_Clark.c **** 		935      ,
  97:Core/Src/Park_u_Clark.c **** 		943      ,
  98:Core/Src/Park_u_Clark.c **** 		949      ,
  99:Core/Src/Park_u_Clark.c **** 		956      ,
 100:Core/Src/Park_u_Clark.c **** 		962      ,
 101:Core/Src/Park_u_Clark.c **** 		968      ,
 102:Core/Src/Park_u_Clark.c **** 		974      ,
 103:Core/Src/Park_u_Clark.c **** 		979      ,
 104:Core/Src/Park_u_Clark.c **** 		984      ,
 105:Core/Src/Park_u_Clark.c **** 		989      ,
 106:Core/Src/Park_u_Clark.c **** 		994      ,
 107:Core/Src/Park_u_Clark.c **** 		998      ,
 108:Core/Src/Park_u_Clark.c **** 		1002     ,
 109:Core/Src/Park_u_Clark.c **** 		1005     ,
 110:Core/Src/Park_u_Clark.c **** 		1008     ,
 111:Core/Src/Park_u_Clark.c **** 		1011     ,
 112:Core/Src/Park_u_Clark.c **** 		1014     ,
 113:Core/Src/Park_u_Clark.c **** 		1016     ,
 114:Core/Src/Park_u_Clark.c **** 		1018     ,
 115:Core/Src/Park_u_Clark.c **** 		1020     ,
 116:Core/Src/Park_u_Clark.c **** 		1022     ,
 117:Core/Src/Park_u_Clark.c **** 		1023     ,
 118:Core/Src/Park_u_Clark.c **** 		1023     ,
 119:Core/Src/Park_u_Clark.c **** 		1024     ,
 120:Core/Src/Park_u_Clark.c **** 		1024
 121:Core/Src/Park_u_Clark.c **** };
 122:Core/Src/Park_u_Clark.c **** 
 123:Core/Src/Park_u_Clark.c **** 
 124:Core/Src/Park_u_Clark.c **** int16_t sin_from_table(uint16_t phase){
  30              		.loc 1 124 39 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
 125:Core/Src/Park_u_Clark.c **** 
 126:Core/Src/Park_u_Clark.c **** 	if(phase>=360) phase = phase -360;
  35              		.loc 1 126 2 view .LVU1
  36              		.loc 1 126 4 is_stmt 0 view .LVU2
  37 0000 B0F5B47F 		cmp	r0, #360
  38 0004 02D3     		bcc	.L2
  39              		.loc 1 126 17 is_stmt 1 discriminator 1 view .LVU3
  40              		.loc 1 126 23 is_stmt 0 discriminator 1 view .LVU4
  41 0006 A0F5B470 		sub	r0, r0, #360
  42              	.LVL1:
  43              		.loc 1 126 23 discriminator 1 view .LVU5
  44 000a 80B2     		uxth	r0, r0
  45              	.LVL2:
  46              	.L2:
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 4


 127:Core/Src/Park_u_Clark.c **** 
 128:Core/Src/Park_u_Clark.c **** 	if(phase>=0 && phase <90){
  47              		.loc 1 128 2 is_stmt 1 view .LVU6
  48              		.loc 1 128 4 is_stmt 0 view .LVU7
  49 000c 5928     		cmp	r0, #89
  50 000e 16D9     		bls	.L8
 129:Core/Src/Park_u_Clark.c **** 		return SIN_TABLE[phase];
 130:Core/Src/Park_u_Clark.c **** 	}
 131:Core/Src/Park_u_Clark.c **** 	else if(phase>=90 && phase<180){
  51              		.loc 1 131 7 is_stmt 1 view .LVU8
  52              		.loc 1 131 20 is_stmt 0 view .LVU9
  53 0010 A0F15A03 		sub	r3, r0, #90
  54 0014 9BB2     		uxth	r3, r3
  55              		.loc 1 131 9 view .LVU10
  56 0016 592B     		cmp	r3, #89
  57 0018 15D9     		bls	.L9
 132:Core/Src/Park_u_Clark.c **** 		return SIN_TABLE[90-(phase-90)];
 133:Core/Src/Park_u_Clark.c **** 	}
 134:Core/Src/Park_u_Clark.c **** 	else if(phase>=180 && phase <270){
  58              		.loc 1 134 7 is_stmt 1 view .LVU11
  59              		.loc 1 134 21 is_stmt 0 view .LVU12
  60 001a A0F1B403 		sub	r3, r0, #180
  61 001e 9BB2     		uxth	r3, r3
  62              		.loc 1 134 9 view .LVU13
  63 0020 592B     		cmp	r3, #89
  64 0022 16D9     		bls	.L10
 135:Core/Src/Park_u_Clark.c **** 		return -SIN_TABLE[phase-180];
 136:Core/Src/Park_u_Clark.c **** 	}
 137:Core/Src/Park_u_Clark.c **** 	else if(phase>=270 && phase<360){
  65              		.loc 1 137 7 is_stmt 1 view .LVU14
  66              		.loc 1 137 21 is_stmt 0 view .LVU15
  67 0024 A0F58773 		sub	r3, r0, #270
  68 0028 9BB2     		uxth	r3, r3
  69              		.loc 1 137 9 view .LVU16
  70 002a 592B     		cmp	r3, #89
  71 002c 18D8     		bhi	.L7
 138:Core/Src/Park_u_Clark.c **** 		return -SIN_TABLE[90-((phase-180)-90)];
  72              		.loc 1 138 3 is_stmt 1 view .LVU17
  73              		.loc 1 138 23 is_stmt 0 view .LVU18
  74 002e C0F5B470 		rsb	r0, r0, #360
  75              	.LVL3:
  76              		.loc 1 138 20 view .LVU19
  77 0032 0C4B     		ldr	r3, .L11
  78 0034 53F82000 		ldr	r0, [r3, r0, lsl #2]
  79              		.loc 1 138 10 view .LVU20
  80 0038 4042     		rsbs	r0, r0, #0
  81 003a 00B2     		sxth	r0, r0
  82 003c 7047     		bx	lr
  83              	.LVL4:
  84              	.L8:
 129:Core/Src/Park_u_Clark.c **** 	}
  85              		.loc 1 129 3 is_stmt 1 view .LVU21
 129:Core/Src/Park_u_Clark.c **** 	}
  86              		.loc 1 129 19 is_stmt 0 view .LVU22
  87 003e 094B     		ldr	r3, .L11
  88 0040 33F92000 		ldrsh	r0, [r3, r0, lsl #2]
  89              	.LVL5:
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 5


 129:Core/Src/Park_u_Clark.c **** 	}
  90              		.loc 1 129 19 view .LVU23
  91 0044 7047     		bx	lr
  92              	.LVL6:
  93              	.L9:
 132:Core/Src/Park_u_Clark.c **** 	}
  94              		.loc 1 132 3 is_stmt 1 view .LVU24
 132:Core/Src/Park_u_Clark.c **** 	}
  95              		.loc 1 132 22 is_stmt 0 view .LVU25
  96 0046 C0F1B400 		rsb	r0, r0, #180
  97              	.LVL7:
 132:Core/Src/Park_u_Clark.c **** 	}
  98              		.loc 1 132 19 view .LVU26
  99 004a 064B     		ldr	r3, .L11
 100 004c 33F92000 		ldrsh	r0, [r3, r0, lsl #2]
 101 0050 7047     		bx	lr
 102              	.LVL8:
 103              	.L10:
 135:Core/Src/Park_u_Clark.c **** 	}
 104              		.loc 1 135 3 is_stmt 1 view .LVU27
 135:Core/Src/Park_u_Clark.c **** 	}
 105              		.loc 1 135 26 is_stmt 0 view .LVU28
 106 0052 B438     		subs	r0, r0, #180
 107              	.LVL9:
 135:Core/Src/Park_u_Clark.c **** 	}
 108              		.loc 1 135 20 view .LVU29
 109 0054 034B     		ldr	r3, .L11
 110 0056 53F82000 		ldr	r0, [r3, r0, lsl #2]
 135:Core/Src/Park_u_Clark.c **** 	}
 111              		.loc 1 135 10 view .LVU30
 112 005a 4042     		rsbs	r0, r0, #0
 113 005c 00B2     		sxth	r0, r0
 114 005e 7047     		bx	lr
 115              	.LVL10:
 116              	.L7:
 139:Core/Src/Park_u_Clark.c **** 	}
 140:Core/Src/Park_u_Clark.c **** 	else {
 141:Core/Src/Park_u_Clark.c **** 		return 0;
 117              		.loc 1 141 10 view .LVU31
 118 0060 0020     		movs	r0, #0
 119              	.LVL11:
 142:Core/Src/Park_u_Clark.c **** 	}
 143:Core/Src/Park_u_Clark.c **** 
 144:Core/Src/Park_u_Clark.c **** }
 120              		.loc 1 144 1 view .LVU32
 121 0062 7047     		bx	lr
 122              	.L12:
 123              		.align	2
 124              	.L11:
 125 0064 00000000 		.word	.LANCHOR0
 126              		.cfi_endproc
 127              	.LFE167:
 129              		.section	.text.cos_from_table,"ax",%progbits
 130              		.align	1
 131              		.global	cos_from_table
 132              		.syntax unified
 133              		.thumb
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 6


 134              		.thumb_func
 136              	cos_from_table:
 137              	.LVL12:
 138              	.LFB168:
 145:Core/Src/Park_u_Clark.c **** 
 146:Core/Src/Park_u_Clark.c **** int16_t cos_from_table(uint16_t phase){
 139              		.loc 1 146 39 is_stmt 1 view -0
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 0
 142              		@ frame_needed = 0, uses_anonymous_args = 0
 143              		@ link register save eliminated.
 147:Core/Src/Park_u_Clark.c **** 
 148:Core/Src/Park_u_Clark.c **** 	phase = phase+90;
 144              		.loc 1 148 2 view .LVU34
 145              		.loc 1 148 8 is_stmt 0 view .LVU35
 146 0000 00F15A03 		add	r3, r0, #90
 147 0004 9BB2     		uxth	r3, r3
 148              	.LVL13:
 149:Core/Src/Park_u_Clark.c **** 
 150:Core/Src/Park_u_Clark.c **** 	if(phase>=360) phase = phase -360;
 149              		.loc 1 150 2 is_stmt 1 view .LVU36
 150              		.loc 1 150 4 is_stmt 0 view .LVU37
 151 0006 B3F5B47F 		cmp	r3, #360
 152 000a 02D3     		bcc	.L14
 153              		.loc 1 150 17 is_stmt 1 discriminator 1 view .LVU38
 154              		.loc 1 150 23 is_stmt 0 discriminator 1 view .LVU39
 155 000c A0F58770 		sub	r0, r0, #270
 156 0010 83B2     		uxth	r3, r0
 157              	.LVL14:
 158              	.L14:
 151:Core/Src/Park_u_Clark.c **** 
 152:Core/Src/Park_u_Clark.c **** 	if(phase>=0 && phase <90){
 159              		.loc 1 152 2 is_stmt 1 view .LVU40
 160              		.loc 1 152 4 is_stmt 0 view .LVU41
 161 0012 592B     		cmp	r3, #89
 162 0014 16D9     		bls	.L20
 153:Core/Src/Park_u_Clark.c **** 		return SIN_TABLE[phase];
 154:Core/Src/Park_u_Clark.c **** 	}
 155:Core/Src/Park_u_Clark.c **** 	else if(phase>=90 && phase<180){
 163              		.loc 1 155 7 is_stmt 1 view .LVU42
 164              		.loc 1 155 20 is_stmt 0 view .LVU43
 165 0016 A3F15A02 		sub	r2, r3, #90
 166 001a 92B2     		uxth	r2, r2
 167              		.loc 1 155 9 view .LVU44
 168 001c 592A     		cmp	r2, #89
 169 001e 15D9     		bls	.L21
 156:Core/Src/Park_u_Clark.c **** 		return SIN_TABLE[90-(phase-90)];
 157:Core/Src/Park_u_Clark.c **** 	}
 158:Core/Src/Park_u_Clark.c **** 	else if(phase>=180 && phase <270){
 170              		.loc 1 158 7 is_stmt 1 view .LVU45
 171              		.loc 1 158 21 is_stmt 0 view .LVU46
 172 0020 A3F1B402 		sub	r2, r3, #180
 173 0024 92B2     		uxth	r2, r2
 174              		.loc 1 158 9 view .LVU47
 175 0026 592A     		cmp	r2, #89
 176 0028 16D9     		bls	.L22
 159:Core/Src/Park_u_Clark.c **** 		return -SIN_TABLE[phase-180];
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 7


 160:Core/Src/Park_u_Clark.c **** 	}
 161:Core/Src/Park_u_Clark.c **** 	else if(phase>=270 && phase<360){
 177              		.loc 1 161 7 is_stmt 1 view .LVU48
 178              		.loc 1 161 21 is_stmt 0 view .LVU49
 179 002a A3F58772 		sub	r2, r3, #270
 180 002e 92B2     		uxth	r2, r2
 181              		.loc 1 161 9 view .LVU50
 182 0030 592A     		cmp	r2, #89
 183 0032 18D8     		bhi	.L19
 162:Core/Src/Park_u_Clark.c **** 		return -SIN_TABLE[90-((phase-180)-90)];
 184              		.loc 1 162 3 is_stmt 1 view .LVU51
 185              		.loc 1 162 23 is_stmt 0 view .LVU52
 186 0034 C3F5B473 		rsb	r3, r3, #360
 187              	.LVL15:
 188              		.loc 1 162 20 view .LVU53
 189 0038 0C4A     		ldr	r2, .L23
 190 003a 52F82300 		ldr	r0, [r2, r3, lsl #2]
 191              		.loc 1 162 10 view .LVU54
 192 003e 4042     		rsbs	r0, r0, #0
 193 0040 00B2     		sxth	r0, r0
 194 0042 7047     		bx	lr
 195              	.LVL16:
 196              	.L20:
 153:Core/Src/Park_u_Clark.c **** 	}
 197              		.loc 1 153 3 is_stmt 1 view .LVU55
 153:Core/Src/Park_u_Clark.c **** 	}
 198              		.loc 1 153 19 is_stmt 0 view .LVU56
 199 0044 094A     		ldr	r2, .L23
 200 0046 32F92300 		ldrsh	r0, [r2, r3, lsl #2]
 201 004a 7047     		bx	lr
 202              	.L21:
 156:Core/Src/Park_u_Clark.c **** 	}
 203              		.loc 1 156 3 is_stmt 1 view .LVU57
 156:Core/Src/Park_u_Clark.c **** 	}
 204              		.loc 1 156 22 is_stmt 0 view .LVU58
 205 004c C3F1B403 		rsb	r3, r3, #180
 206              	.LVL17:
 156:Core/Src/Park_u_Clark.c **** 	}
 207              		.loc 1 156 19 view .LVU59
 208 0050 064A     		ldr	r2, .L23
 209 0052 32F92300 		ldrsh	r0, [r2, r3, lsl #2]
 210 0056 7047     		bx	lr
 211              	.LVL18:
 212              	.L22:
 159:Core/Src/Park_u_Clark.c **** 	}
 213              		.loc 1 159 3 is_stmt 1 view .LVU60
 159:Core/Src/Park_u_Clark.c **** 	}
 214              		.loc 1 159 26 is_stmt 0 view .LVU61
 215 0058 B43B     		subs	r3, r3, #180
 216              	.LVL19:
 159:Core/Src/Park_u_Clark.c **** 	}
 217              		.loc 1 159 20 view .LVU62
 218 005a 044A     		ldr	r2, .L23
 219 005c 52F82300 		ldr	r0, [r2, r3, lsl #2]
 159:Core/Src/Park_u_Clark.c **** 	}
 220              		.loc 1 159 10 view .LVU63
 221 0060 4042     		rsbs	r0, r0, #0
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 8


 222 0062 00B2     		sxth	r0, r0
 223 0064 7047     		bx	lr
 224              	.LVL20:
 225              	.L19:
 163:Core/Src/Park_u_Clark.c **** 	}
 164:Core/Src/Park_u_Clark.c **** 	else {
 165:Core/Src/Park_u_Clark.c **** 		return 0;
 226              		.loc 1 165 10 view .LVU64
 227 0066 0020     		movs	r0, #0
 166:Core/Src/Park_u_Clark.c **** 	}
 167:Core/Src/Park_u_Clark.c **** 
 168:Core/Src/Park_u_Clark.c **** 
 169:Core/Src/Park_u_Clark.c **** }
 228              		.loc 1 169 1 view .LVU65
 229 0068 7047     		bx	lr
 230              	.L24:
 231 006a 00BF     		.align	2
 232              	.L23:
 233 006c 00000000 		.word	.LANCHOR0
 234              		.cfi_endproc
 235              	.LFE168:
 237              		.global	__aeabi_ldivmod
 238              		.section	.text.transform_to_Clark_domain,"ax",%progbits
 239              		.align	1
 240              		.global	transform_to_Clark_domain
 241              		.syntax unified
 242              		.thumb
 243              		.thumb_func
 245              	transform_to_Clark_domain:
 246              	.LVL21:
 247              	.LFB169:
 170:Core/Src/Park_u_Clark.c **** 
 171:Core/Src/Park_u_Clark.c **** 
 172:Core/Src/Park_u_Clark.c **** void transform_to_Clark_domain(int * PhaseCurrents, int * AlphaBetaCurrents){
 248              		.loc 1 172 77 is_stmt 1 view -0
 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 0
 251              		@ frame_needed = 0, uses_anonymous_args = 0
 252              		.loc 1 172 77 is_stmt 0 view .LVU67
 253 0000 10B5     		push	{r4, lr}
 254              	.LCFI0:
 255              		.cfi_def_cfa_offset 8
 256              		.cfi_offset 4, -8
 257              		.cfi_offset 14, -4
 258 0002 0C46     		mov	r4, r1
 173:Core/Src/Park_u_Clark.c **** 		// iapha = Ia
 174:Core/Src/Park_u_Clark.c **** 		// ibeta = (Ib - Ic)/wurzel(3)
 175:Core/Src/Park_u_Clark.c **** 
 176:Core/Src/Park_u_Clark.c **** 	//PhaseCurrents[0]= sin_from_table(Motor.rotorphase);
 177:Core/Src/Park_u_Clark.c **** 	//PhaseCurrents[1]= sin_from_table(Motor.rotorphase+240);
 178:Core/Src/Park_u_Clark.c **** 	//PhaseCurrents[2]= sin_from_table(Motor.rotorphase+120);
 179:Core/Src/Park_u_Clark.c **** 	
 180:Core/Src/Park_u_Clark.c **** 	AlphaBetaCurrents[0] = PhaseCurrents[0];
 259              		.loc 1 180 2 is_stmt 1 view .LVU68
 260              		.loc 1 180 38 is_stmt 0 view .LVU69
 261 0004 0368     		ldr	r3, [r0]
 262              		.loc 1 180 23 view .LVU70
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 9


 263 0006 0B60     		str	r3, [r1]
 181:Core/Src/Park_u_Clark.c **** 	AlphaBetaCurrents[1] = (((int64_t)(PhaseCurrents[1] - PhaseCurrents[2])<<10)/1773);
 264              		.loc 1 181 2 is_stmt 1 view .LVU71
 265              		.loc 1 181 50 is_stmt 0 view .LVU72
 266 0008 4168     		ldr	r1, [r0, #4]
 267              	.LVL22:
 268              		.loc 1 181 69 view .LVU73
 269 000a 8368     		ldr	r3, [r0, #8]
 270              		.loc 1 181 54 view .LVU74
 271 000c C91A     		subs	r1, r1, r3
 272              		.loc 1 181 78 view .LVU75
 273 000e 40F2ED62 		movw	r2, #1773
 274 0012 0023     		movs	r3, #0
 275 0014 8802     		lsls	r0, r1, #10
 276              	.LVL23:
 277              		.loc 1 181 78 view .LVU76
 278 0016 8915     		asrs	r1, r1, #22
 279 0018 FFF7FEFF 		bl	__aeabi_ldivmod
 280              	.LVL24:
 281              		.loc 1 181 23 view .LVU77
 282 001c 6060     		str	r0, [r4, #4]
 182:Core/Src/Park_u_Clark.c **** 
 183:Core/Src/Park_u_Clark.c **** 
 184:Core/Src/Park_u_Clark.c **** }
 283              		.loc 1 184 1 view .LVU78
 284 001e 10BD     		pop	{r4, pc}
 285              		.loc 1 184 1 view .LVU79
 286              		.cfi_endproc
 287              	.LFE169:
 289              		.section	.text.transform_to_Park_domain,"ax",%progbits
 290              		.align	1
 291              		.global	transform_to_Park_domain
 292              		.syntax unified
 293              		.thumb
 294              		.thumb_func
 296              	transform_to_Park_domain:
 297              	.LVL25:
 298              	.LFB170:
 185:Core/Src/Park_u_Clark.c **** 
 186:Core/Src/Park_u_Clark.c **** void transform_to_Park_domain(int * AlphaBetaCurrents,int * DQCurrents, uint32_t phase){
 299              		.loc 1 186 88 is_stmt 1 view -0
 300              		.cfi_startproc
 301              		@ args = 0, pretend = 0, frame = 0
 302              		@ frame_needed = 0, uses_anonymous_args = 0
 303              		.loc 1 186 88 is_stmt 0 view .LVU81
 304 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 305              	.LCFI1:
 306              		.cfi_def_cfa_offset 24
 307              		.cfi_offset 4, -24
 308              		.cfi_offset 5, -20
 309              		.cfi_offset 6, -16
 310              		.cfi_offset 7, -12
 311              		.cfi_offset 8, -8
 312              		.cfi_offset 14, -4
 313 0004 0746     		mov	r7, r0
 314 0006 0D46     		mov	r5, r1
 187:Core/Src/Park_u_Clark.c **** //		// iq = -sin(phase)*ialpha + cos(phase)*ibeta
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 10


 188:Core/Src/Park_u_Clark.c **** //		// id =  cos(phase)*ialpha + sin(phase)*ibeta
 189:Core/Src/Park_u_Clark.c **** 
 190:Core/Src/Park_u_Clark.c **** 
 191:Core/Src/Park_u_Clark.c **** 
 192:Core/Src/Park_u_Clark.c **** 	DQCurrents[0] = (-(sin_from_table(phase)*AlphaBetaCurrents[0]) + (cos_from_table(phase)*AlphaBetaC
 315              		.loc 1 192 2 is_stmt 1 view .LVU82
 316              		.loc 1 192 68 is_stmt 0 view .LVU83
 317 0008 1FFA82F8 		uxth	r8, r2
 318 000c 4046     		mov	r0, r8
 319              	.LVL26:
 320              		.loc 1 192 68 view .LVU84
 321 000e FFF7FEFF 		bl	cos_from_table
 322              	.LVL27:
 323              		.loc 1 192 68 view .LVU85
 324 0012 0646     		mov	r6, r0
 325              		.loc 1 192 107 view .LVU86
 326 0014 7C68     		ldr	r4, [r7, #4]
 327              		.loc 1 192 89 view .LVU87
 328 0016 00FB04F4 		mul	r4, r0, r4
 329              		.loc 1 192 21 view .LVU88
 330 001a 4046     		mov	r0, r8
 331 001c FFF7FEFF 		bl	sin_from_table
 332              	.LVL28:
 333 0020 0346     		mov	r3, r0
 334              		.loc 1 192 60 view .LVU89
 335 0022 3A68     		ldr	r2, [r7]
 336              		.loc 1 192 65 view .LVU90
 337 0024 02FB1044 		mls	r4, r2, r0, r4
 338              		.loc 1 192 112 view .LVU91
 339 0028 A412     		asrs	r4, r4, #10
 340              		.loc 1 192 16 view .LVU92
 341 002a 2C60     		str	r4, [r5]
 193:Core/Src/Park_u_Clark.c **** 	DQCurrents[1] = ( (cos_from_table(phase)*AlphaBetaCurrents[0]) + (sin_from_table(phase)*AlphaBetaC
 342              		.loc 1 193 2 is_stmt 1 view .LVU93
 343              		.loc 1 193 60 is_stmt 0 view .LVU94
 344 002c 3868     		ldr	r0, [r7]
 345              		.loc 1 193 107 view .LVU95
 346 002e 7A68     		ldr	r2, [r7, #4]
 347              		.loc 1 193 89 view .LVU96
 348 0030 02FB03F3 		mul	r3, r2, r3
 349              		.loc 1 193 65 view .LVU97
 350 0034 00FB0633 		mla	r3, r0, r6, r3
 351              		.loc 1 193 112 view .LVU98
 352 0038 9B12     		asrs	r3, r3, #10
 353              		.loc 1 193 16 view .LVU99
 354 003a 6B60     		str	r3, [r5, #4]
 194:Core/Src/Park_u_Clark.c **** 
 195:Core/Src/Park_u_Clark.c **** 
 196:Core/Src/Park_u_Clark.c **** 
 197:Core/Src/Park_u_Clark.c **** }
 355              		.loc 1 197 1 view .LVU100
 356 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 357              		.loc 1 197 1 view .LVU101
 358              		.cfi_endproc
 359              	.LFE170:
 361              		.global	SIN_TABLE
 362              		.section	.rodata.SIN_TABLE,"a"
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 11


 363              		.align	2
 364              		.set	.LANCHOR0,. + 0
 367              	SIN_TABLE:
 368 0000 00000000 		.word	0
 369 0004 12000000 		.word	18
 370 0008 24000000 		.word	36
 371 000c 36000000 		.word	54
 372 0010 47000000 		.word	71
 373 0014 59000000 		.word	89
 374 0018 6B000000 		.word	107
 375 001c 7D000000 		.word	125
 376 0020 8F000000 		.word	143
 377 0024 A0000000 		.word	160
 378 0028 B2000000 		.word	178
 379 002c C3000000 		.word	195
 380 0030 D5000000 		.word	213
 381 0034 E6000000 		.word	230
 382 0038 F8000000 		.word	248
 383 003c 09010000 		.word	265
 384 0040 1A010000 		.word	282
 385 0044 2B010000 		.word	299
 386 0048 3C010000 		.word	316
 387 004c 4D010000 		.word	333
 388 0050 5E010000 		.word	350
 389 0054 6F010000 		.word	367
 390 0058 80010000 		.word	384
 391 005c 90010000 		.word	400
 392 0060 A0010000 		.word	416
 393 0064 B1010000 		.word	433
 394 0068 C1010000 		.word	449
 395 006c D1010000 		.word	465
 396 0070 E1010000 		.word	481
 397 0074 F0010000 		.word	496
 398 0078 00020000 		.word	512
 399 007c 0F020000 		.word	527
 400 0080 1F020000 		.word	543
 401 0084 2E020000 		.word	558
 402 0088 3D020000 		.word	573
 403 008c 4B020000 		.word	587
 404 0090 5A020000 		.word	602
 405 0094 68020000 		.word	616
 406 0098 76020000 		.word	630
 407 009c 84020000 		.word	644
 408 00a0 92020000 		.word	658
 409 00a4 A0020000 		.word	672
 410 00a8 AD020000 		.word	685
 411 00ac BA020000 		.word	698
 412 00b0 C7020000 		.word	711
 413 00b4 D4020000 		.word	724
 414 00b8 E1020000 		.word	737
 415 00bc ED020000 		.word	749
 416 00c0 F9020000 		.word	761
 417 00c4 05030000 		.word	773
 418 00c8 10030000 		.word	784
 419 00cc 1C030000 		.word	796
 420 00d0 27030000 		.word	807
 421 00d4 32030000 		.word	818
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 12


 422 00d8 3C030000 		.word	828
 423 00dc 47030000 		.word	839
 424 00e0 51030000 		.word	849
 425 00e4 5B030000 		.word	859
 426 00e8 64030000 		.word	868
 427 00ec 6E030000 		.word	878
 428 00f0 77030000 		.word	887
 429 00f4 80030000 		.word	896
 430 00f8 88030000 		.word	904
 431 00fc 90030000 		.word	912
 432 0100 98030000 		.word	920
 433 0104 A0030000 		.word	928
 434 0108 A7030000 		.word	935
 435 010c AF030000 		.word	943
 436 0110 B5030000 		.word	949
 437 0114 BC030000 		.word	956
 438 0118 C2030000 		.word	962
 439 011c C8030000 		.word	968
 440 0120 CE030000 		.word	974
 441 0124 D3030000 		.word	979
 442 0128 D8030000 		.word	984
 443 012c DD030000 		.word	989
 444 0130 E2030000 		.word	994
 445 0134 E6030000 		.word	998
 446 0138 EA030000 		.word	1002
 447 013c ED030000 		.word	1005
 448 0140 F0030000 		.word	1008
 449 0144 F3030000 		.word	1011
 450 0148 F6030000 		.word	1014
 451 014c F8030000 		.word	1016
 452 0150 FA030000 		.word	1018
 453 0154 FC030000 		.word	1020
 454 0158 FE030000 		.word	1022
 455 015c FF030000 		.word	1023
 456 0160 FF030000 		.word	1023
 457 0164 00040000 		.word	1024
 458 0168 00040000 		.word	1024
 459              		.text
 460              	.Letext0:
 461              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 462              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
ARM GAS  C:\Users\Simio\AppData\Local\Temp\cc50TegT.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 Park_u_Clark.c
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:20     .text.sin_from_table:00000000 $t
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:26     .text.sin_from_table:00000000 sin_from_table
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:125    .text.sin_from_table:00000064 $d
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:130    .text.cos_from_table:00000000 $t
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:136    .text.cos_from_table:00000000 cos_from_table
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:233    .text.cos_from_table:0000006c $d
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:239    .text.transform_to_Clark_domain:00000000 $t
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:245    .text.transform_to_Clark_domain:00000000 transform_to_Clark_domain
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:290    .text.transform_to_Park_domain:00000000 $t
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:296    .text.transform_to_Park_domain:00000000 transform_to_Park_domain
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:367    .rodata.SIN_TABLE:00000000 SIN_TABLE
C:\Users\Simio\AppData\Local\Temp\cc50TegT.s:363    .rodata.SIN_TABLE:00000000 $d

UNDEFINED SYMBOLS
__aeabi_ldivmod
