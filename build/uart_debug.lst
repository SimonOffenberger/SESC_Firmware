ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"uart_debug.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.UART_transmit_string,"ax",%progbits
  20              		.align	1
  21              		.global	UART_transmit_string
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	UART_transmit_string:
  27              	.LVL0:
  28              	.LFB126:
  29              		.file 1 "Core/Src/uart_debug.c"
   1:Core/Src/uart_debug.c **** /**
   2:Core/Src/uart_debug.c ****   ******************************************************************************
   3:Core/Src/uart_debug.c ****   * @file    adc.c
   4:Core/Src/uart_debug.c ****   * @brief   This file provides code for the configuration
   5:Core/Src/uart_debug.c ****   *          of the ADC instances.
   6:Core/Src/uart_debug.c ****   ******************************************************************************
   7:Core/Src/uart_debug.c ****   * @attention
   8:Core/Src/uart_debug.c ****   *
   9:Core/Src/uart_debug.c ****   * <h2><center>&copy; Copyright (c) 2021 STMicroelectronics.
  10:Core/Src/uart_debug.c ****   * All rights reserved.</center></h2>
  11:Core/Src/uart_debug.c ****   *
  12:Core/Src/uart_debug.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  13:Core/Src/uart_debug.c ****   * the "License"; You may not use this file except in compliance with the
  14:Core/Src/uart_debug.c ****   * License. You may obtain a copy of the License at:
  15:Core/Src/uart_debug.c ****   *                        opensource.org/licenses/BSD-3-Clause
  16:Core/Src/uart_debug.c ****   *
  17:Core/Src/uart_debug.c ****   ******************************************************************************
  18:Core/Src/uart_debug.c ****   */
  19:Core/Src/uart_debug.c **** 
  20:Core/Src/uart_debug.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/uart_debug.c **** #include "uart_debug.h"
  22:Core/Src/uart_debug.c **** #include "usart.h"
  23:Core/Src/uart_debug.c **** #include <string.h>
  24:Core/Src/uart_debug.c **** #include <stdio.h>
  25:Core/Src/uart_debug.c **** #include <stdlib.h>
  26:Core/Src/uart_debug.c **** 
  27:Core/Src/uart_debug.c **** extern UART_HandleTypeDef huart1;
  28:Core/Src/uart_debug.c **** static char UART_TX_Buffer[UART_TX_BUFFER_SIZE]={0};
  29:Core/Src/uart_debug.c **** static char UART_TX_Buffer_DMA_only[UART_TX_BUFFER_SIZE]={0};
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 2


  30:Core/Src/uart_debug.c **** static uint16_t tx_buffer_end_pos=0;
  31:Core/Src/uart_debug.c **** 
  32:Core/Src/uart_debug.c **** void reverse(uint8_t *s);
  33:Core/Src/uart_debug.c **** uint16_t ui32toa(uint32_t n, uint8_t *s);
  34:Core/Src/uart_debug.c **** 
  35:Core/Src/uart_debug.c **** void UART_transmit_string(char payload[]){
  30              		.loc 1 35 42 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 35 42 is_stmt 0 view .LVU1
  36 0000 10B4     		push	{r4}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 4
  39              		.cfi_offset 4, -4
  36:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
  40              		.loc 1 36 2 is_stmt 1 view .LVU2
  41              	.LBB2:
  42              		.loc 1 36 6 view .LVU3
  43              	.LVL1:
  44              		.loc 1 36 15 is_stmt 0 view .LVU4
  45 0002 0022     		movs	r2, #0
  46              		.loc 1 36 2 view .LVU5
  47 0004 06E0     		b	.L2
  48              	.LVL2:
  49              	.L6:
  37:Core/Src/uart_debug.c **** 
  38:Core/Src/uart_debug.c **** 		if(tx_buffer_end_pos >= UART_TX_BUFFER_SIZE)break;
  39:Core/Src/uart_debug.c **** 
  40:Core/Src/uart_debug.c **** 		UART_TX_Buffer[tx_buffer_end_pos]=payload[size];
  50              		.loc 1 40 3 is_stmt 1 discriminator 2 view .LVU6
  51              		.loc 1 40 36 is_stmt 0 discriminator 2 view .LVU7
  52 0006 0A4C     		ldr	r4, .L7
  53 0008 E154     		strb	r1, [r4, r3]
  41:Core/Src/uart_debug.c **** 		tx_buffer_end_pos++;
  54              		.loc 1 41 3 is_stmt 1 discriminator 2 view .LVU8
  55              		.loc 1 41 20 is_stmt 0 discriminator 2 view .LVU9
  56 000a 0133     		adds	r3, r3, #1
  57 000c 0949     		ldr	r1, .L7+4
  58 000e 0B80     		strh	r3, [r1]	@ movhi
  36:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
  59              		.loc 1 36 42 is_stmt 1 discriminator 2 view .LVU10
  36:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
  60              		.loc 1 36 46 is_stmt 0 discriminator 2 view .LVU11
  61 0010 0132     		adds	r2, r2, #1
  62              	.LVL3:
  36:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
  63              		.loc 1 36 46 discriminator 2 view .LVU12
  64 0012 92B2     		uxth	r2, r2
  65              	.LVL4:
  66              	.L2:
  36:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
  67              		.loc 1 36 22 is_stmt 1 discriminator 1 view .LVU13
  36:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
  68              		.loc 1 36 29 is_stmt 0 discriminator 1 view .LVU14
  69 0014 815C     		ldrb	r1, [r0, r2]	@ zero_extendqisi2
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 3


  36:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
  70              		.loc 1 36 2 discriminator 1 view .LVU15
  71 0016 19B1     		cbz	r1, .L3
  38:Core/Src/uart_debug.c **** 
  72              		.loc 1 38 3 is_stmt 1 view .LVU16
  38:Core/Src/uart_debug.c **** 
  73              		.loc 1 38 24 is_stmt 0 view .LVU17
  74 0018 064B     		ldr	r3, .L7+4
  75 001a 1B88     		ldrh	r3, [r3]
  38:Core/Src/uart_debug.c **** 
  76              		.loc 1 38 5 view .LVU18
  77 001c 7F2B     		cmp	r3, #127
  78 001e F2D9     		bls	.L6
  79              	.L3:
  80              	.LBE2:
  42:Core/Src/uart_debug.c **** 	}
  43:Core/Src/uart_debug.c **** 	UART_TX_Buffer[tx_buffer_end_pos] = '\0';
  81              		.loc 1 43 2 is_stmt 1 view .LVU19
  82              		.loc 1 43 16 is_stmt 0 view .LVU20
  83 0020 044B     		ldr	r3, .L7+4
  84 0022 1B88     		ldrh	r3, [r3]
  85              		.loc 1 43 36 view .LVU21
  86 0024 024A     		ldr	r2, .L7
  87              	.LVL5:
  88              		.loc 1 43 36 view .LVU22
  89 0026 0021     		movs	r1, #0
  90 0028 D154     		strb	r1, [r2, r3]
  44:Core/Src/uart_debug.c **** }
  91              		.loc 1 44 1 view .LVU23
  92 002a 5DF8044B 		ldr	r4, [sp], #4
  93              	.LCFI1:
  94              		.cfi_restore 4
  95              		.cfi_def_cfa_offset 0
  96 002e 7047     		bx	lr
  97              	.L8:
  98              		.align	2
  99              	.L7:
 100 0030 00000000 		.word	.LANCHOR1
 101 0034 00000000 		.word	.LANCHOR0
 102              		.cfi_endproc
 103              	.LFE126:
 105              		.section	.text.UART_writeLine,"ax",%progbits
 106              		.align	1
 107              		.global	UART_writeLine
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	UART_writeLine:
 113              	.LVL6:
 114              	.LFB127:
  45:Core/Src/uart_debug.c **** 
  46:Core/Src/uart_debug.c **** void UART_writeLine(char payload[]){
 115              		.loc 1 46 36 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119              		@ link register save eliminated.
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 4


 120              		.loc 1 46 36 is_stmt 0 view .LVU25
 121 0000 10B4     		push	{r4}
 122              	.LCFI2:
 123              		.cfi_def_cfa_offset 4
 124              		.cfi_offset 4, -4
  47:Core/Src/uart_debug.c **** 
  48:Core/Src/uart_debug.c **** 	for(uint16_t size=0;payload[size]!='\0';size++){
 125              		.loc 1 48 2 is_stmt 1 view .LVU26
 126              	.LBB3:
 127              		.loc 1 48 6 view .LVU27
 128              	.LVL7:
 129              		.loc 1 48 15 is_stmt 0 view .LVU28
 130 0002 0022     		movs	r2, #0
 131              		.loc 1 48 2 view .LVU29
 132 0004 06E0     		b	.L10
 133              	.LVL8:
 134              	.L15:
  49:Core/Src/uart_debug.c **** 
  50:Core/Src/uart_debug.c **** 		if(tx_buffer_end_pos >= UART_TX_BUFFER_SIZE)break;
  51:Core/Src/uart_debug.c **** 
  52:Core/Src/uart_debug.c **** 		UART_TX_Buffer[tx_buffer_end_pos]=payload[size];
 135              		.loc 1 52 3 is_stmt 1 discriminator 2 view .LVU30
 136              		.loc 1 52 36 is_stmt 0 discriminator 2 view .LVU31
 137 0006 124C     		ldr	r4, .L16
 138 0008 E154     		strb	r1, [r4, r3]
  53:Core/Src/uart_debug.c **** 		tx_buffer_end_pos++;
 139              		.loc 1 53 3 is_stmt 1 discriminator 2 view .LVU32
 140              		.loc 1 53 20 is_stmt 0 discriminator 2 view .LVU33
 141 000a 0133     		adds	r3, r3, #1
 142 000c 1149     		ldr	r1, .L16+4
 143 000e 0B80     		strh	r3, [r1]	@ movhi
  48:Core/Src/uart_debug.c **** 
 144              		.loc 1 48 42 is_stmt 1 discriminator 2 view .LVU34
  48:Core/Src/uart_debug.c **** 
 145              		.loc 1 48 46 is_stmt 0 discriminator 2 view .LVU35
 146 0010 0132     		adds	r2, r2, #1
 147              	.LVL9:
  48:Core/Src/uart_debug.c **** 
 148              		.loc 1 48 46 discriminator 2 view .LVU36
 149 0012 92B2     		uxth	r2, r2
 150              	.LVL10:
 151              	.L10:
  48:Core/Src/uart_debug.c **** 
 152              		.loc 1 48 22 is_stmt 1 discriminator 1 view .LVU37
  48:Core/Src/uart_debug.c **** 
 153              		.loc 1 48 29 is_stmt 0 discriminator 1 view .LVU38
 154 0014 815C     		ldrb	r1, [r0, r2]	@ zero_extendqisi2
  48:Core/Src/uart_debug.c **** 
 155              		.loc 1 48 2 discriminator 1 view .LVU39
 156 0016 19B1     		cbz	r1, .L11
  50:Core/Src/uart_debug.c **** 
 157              		.loc 1 50 3 is_stmt 1 view .LVU40
  50:Core/Src/uart_debug.c **** 
 158              		.loc 1 50 24 is_stmt 0 view .LVU41
 159 0018 0E4B     		ldr	r3, .L16+4
 160 001a 1B88     		ldrh	r3, [r3]
  50:Core/Src/uart_debug.c **** 
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 5


 161              		.loc 1 50 5 view .LVU42
 162 001c 7F2B     		cmp	r3, #127
 163 001e F2D9     		bls	.L15
 164              	.L11:
 165              	.LBE3:
  54:Core/Src/uart_debug.c **** 	}
  55:Core/Src/uart_debug.c **** 	
  56:Core/Src/uart_debug.c **** 	if((tx_buffer_end_pos) < UART_TX_BUFFER_SIZE-2){
 166              		.loc 1 56 2 is_stmt 1 view .LVU43
 167              		.loc 1 56 25 is_stmt 0 view .LVU44
 168 0020 0C4B     		ldr	r3, .L16+4
 169 0022 1B88     		ldrh	r3, [r3]
 170              		.loc 1 56 4 view .LVU45
 171 0024 7D2B     		cmp	r3, #125
 172 0026 0AD8     		bhi	.L13
  57:Core/Src/uart_debug.c **** 		UART_TX_Buffer[tx_buffer_end_pos++]='\r';
 173              		.loc 1 57 3 is_stmt 1 view .LVU46
 174              		.loc 1 57 35 is_stmt 0 view .LVU47
 175 0028 5A1C     		adds	r2, r3, #1
 176              	.LVL11:
 177              		.loc 1 57 35 view .LVU48
 178 002a 92B2     		uxth	r2, r2
 179 002c 0948     		ldr	r0, .L16+4
 180              	.LVL12:
 181              		.loc 1 57 35 view .LVU49
 182 002e 0280     		strh	r2, [r0]	@ movhi
 183              		.loc 1 57 38 view .LVU50
 184 0030 0749     		ldr	r1, .L16
 185 0032 0D24     		movs	r4, #13
 186 0034 CC54     		strb	r4, [r1, r3]
  58:Core/Src/uart_debug.c **** 		UART_TX_Buffer[tx_buffer_end_pos++]='\n';
 187              		.loc 1 58 3 is_stmt 1 view .LVU51
 188              		.loc 1 58 35 is_stmt 0 view .LVU52
 189 0036 531C     		adds	r3, r2, #1
 190 0038 0380     		strh	r3, [r0]	@ movhi
 191              		.loc 1 58 38 view .LVU53
 192 003a 0A23     		movs	r3, #10
 193 003c 8B54     		strb	r3, [r1, r2]
 194              	.L13:
  59:Core/Src/uart_debug.c **** 	}
  60:Core/Src/uart_debug.c **** 
  61:Core/Src/uart_debug.c **** 	UART_TX_Buffer[tx_buffer_end_pos] = '\0';	 // place zero terminator at the end of the string
 195              		.loc 1 61 2 is_stmt 1 view .LVU54
 196              		.loc 1 61 16 is_stmt 0 view .LVU55
 197 003e 054B     		ldr	r3, .L16+4
 198 0040 1B88     		ldrh	r3, [r3]
 199              		.loc 1 61 36 view .LVU56
 200 0042 034A     		ldr	r2, .L16
 201 0044 0021     		movs	r1, #0
 202 0046 D154     		strb	r1, [r2, r3]
  62:Core/Src/uart_debug.c **** 	//HAL_UART_Transmit_DMA(&huart1,(uint8_t*)UART_TX_Buffer,size);
  63:Core/Src/uart_debug.c **** }
 203              		.loc 1 63 1 view .LVU57
 204 0048 5DF8044B 		ldr	r4, [sp], #4
 205              	.LCFI3:
 206              		.cfi_restore 4
 207              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 6


 208 004c 7047     		bx	lr
 209              	.L17:
 210 004e 00BF     		.align	2
 211              	.L16:
 212 0050 00000000 		.word	.LANCHOR1
 213 0054 00000000 		.word	.LANCHOR0
 214              		.cfi_endproc
 215              	.LFE127:
 217              		.section	.text.UART_transmit_crlf,"ax",%progbits
 218              		.align	1
 219              		.global	UART_transmit_crlf
 220              		.syntax unified
 221              		.thumb
 222              		.thumb_func
 224              	UART_transmit_crlf:
 225              	.LFB129:
  64:Core/Src/uart_debug.c **** 
  65:Core/Src/uart_debug.c **** void UART_transmit_ui32(uint32_t num){
  66:Core/Src/uart_debug.c **** 
  67:Core/Src/uart_debug.c **** 	if((tx_buffer_end_pos) < UART_TX_BUFFER_SIZE-10){
  68:Core/Src/uart_debug.c **** 		tx_buffer_end_pos+= ui32toa(num, (uint8_t *) &UART_TX_Buffer[tx_buffer_end_pos]);
  69:Core/Src/uart_debug.c **** 	}
  70:Core/Src/uart_debug.c **** 
  71:Core/Src/uart_debug.c **** 	UART_TX_Buffer[tx_buffer_end_pos] = '\0';	 // place zero terminator at the end of the string
  72:Core/Src/uart_debug.c **** }
  73:Core/Src/uart_debug.c **** 
  74:Core/Src/uart_debug.c **** void UART_transmit_crlf(){
 226              		.loc 1 74 26 is_stmt 1 view -0
 227              		.cfi_startproc
 228              		@ args = 0, pretend = 0, frame = 0
 229              		@ frame_needed = 0, uses_anonymous_args = 0
 230              		@ link register save eliminated.
  75:Core/Src/uart_debug.c **** 
  76:Core/Src/uart_debug.c **** 	if((tx_buffer_end_pos) < UART_TX_BUFFER_SIZE-2){
 231              		.loc 1 76 2 view .LVU59
 232              		.loc 1 76 25 is_stmt 0 view .LVU60
 233 0000 0B4B     		ldr	r3, .L20
 234 0002 1A88     		ldrh	r2, [r3]
 235              		.loc 1 76 4 view .LVU61
 236 0004 7D2A     		cmp	r2, #125
 237 0006 0CD8     		bhi	.L19
  77:Core/Src/uart_debug.c **** 		UART_TX_Buffer[tx_buffer_end_pos++]='\r';
 238              		.loc 1 77 3 is_stmt 1 view .LVU62
 239              		.loc 1 77 35 is_stmt 0 view .LVU63
 240 0008 531C     		adds	r3, r2, #1
 241 000a 9BB2     		uxth	r3, r3
 242 000c 0848     		ldr	r0, .L20
 243 000e 0380     		strh	r3, [r0]	@ movhi
 244              		.loc 1 77 38 view .LVU64
 245 0010 0849     		ldr	r1, .L20+4
 246 0012 4FF00D0C 		mov	ip, #13
 247 0016 01F802C0 		strb	ip, [r1, r2]
  78:Core/Src/uart_debug.c **** 		UART_TX_Buffer[tx_buffer_end_pos++]='\n';
 248              		.loc 1 78 3 is_stmt 1 view .LVU65
 249              		.loc 1 78 35 is_stmt 0 view .LVU66
 250 001a 5A1C     		adds	r2, r3, #1
 251 001c 0280     		strh	r2, [r0]	@ movhi
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 7


 252              		.loc 1 78 38 view .LVU67
 253 001e 0A22     		movs	r2, #10
 254 0020 CA54     		strb	r2, [r1, r3]
 255              	.L19:
  79:Core/Src/uart_debug.c **** 	}
  80:Core/Src/uart_debug.c **** 	UART_TX_Buffer[tx_buffer_end_pos] = '\0';	 // place zero terminator at the end of the string
 256              		.loc 1 80 2 is_stmt 1 view .LVU68
 257              		.loc 1 80 16 is_stmt 0 view .LVU69
 258 0022 034B     		ldr	r3, .L20
 259 0024 1B88     		ldrh	r3, [r3]
 260              		.loc 1 80 36 view .LVU70
 261 0026 034A     		ldr	r2, .L20+4
 262 0028 0021     		movs	r1, #0
 263 002a D154     		strb	r1, [r2, r3]
  81:Core/Src/uart_debug.c **** }
 264              		.loc 1 81 1 view .LVU71
 265 002c 7047     		bx	lr
 266              	.L21:
 267 002e 00BF     		.align	2
 268              	.L20:
 269 0030 00000000 		.word	.LANCHOR0
 270 0034 00000000 		.word	.LANCHOR1
 271              		.cfi_endproc
 272              	.LFE129:
 274              		.section	.text.UART_transmit_buffer,"ax",%progbits
 275              		.align	1
 276              		.global	UART_transmit_buffer
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 281              	UART_transmit_buffer:
 282              	.LFB130:
  82:Core/Src/uart_debug.c **** 
  83:Core/Src/uart_debug.c **** void UART_transmit_buffer(){
 283              		.loc 1 83 28 is_stmt 1 view -0
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287 0000 10B5     		push	{r4, lr}
 288              	.LCFI4:
 289              		.cfi_def_cfa_offset 8
 290              		.cfi_offset 4, -8
 291              		.cfi_offset 14, -4
  84:Core/Src/uart_debug.c **** 
  85:Core/Src/uart_debug.c **** 	for(uint32_t size=0;UART_TX_Buffer[size]!='\0';size++){
 292              		.loc 1 85 2 view .LVU73
 293              	.LBB4:
 294              		.loc 1 85 6 view .LVU74
 295              	.LVL13:
 296              		.loc 1 85 15 is_stmt 0 view .LVU75
 297 0002 0023     		movs	r3, #0
 298              		.loc 1 85 2 view .LVU76
 299 0004 02E0     		b	.L23
 300              	.LVL14:
 301              	.L24:
  86:Core/Src/uart_debug.c **** 		UART_TX_Buffer_DMA_only[size] = UART_TX_Buffer[size];
 302              		.loc 1 86 3 is_stmt 1 discriminator 3 view .LVU77
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 8


 303              		.loc 1 86 33 is_stmt 0 discriminator 3 view .LVU78
 304 0006 0849     		ldr	r1, .L26
 305 0008 CA54     		strb	r2, [r1, r3]
  85:Core/Src/uart_debug.c **** 		UART_TX_Buffer_DMA_only[size] = UART_TX_Buffer[size];
 306              		.loc 1 85 49 is_stmt 1 discriminator 3 view .LVU79
  85:Core/Src/uart_debug.c **** 		UART_TX_Buffer_DMA_only[size] = UART_TX_Buffer[size];
 307              		.loc 1 85 53 is_stmt 0 discriminator 3 view .LVU80
 308 000a 0133     		adds	r3, r3, #1
 309              	.LVL15:
 310              	.L23:
  85:Core/Src/uart_debug.c **** 		UART_TX_Buffer_DMA_only[size] = UART_TX_Buffer[size];
 311              		.loc 1 85 22 is_stmt 1 discriminator 1 view .LVU81
  85:Core/Src/uart_debug.c **** 		UART_TX_Buffer_DMA_only[size] = UART_TX_Buffer[size];
 312              		.loc 1 85 36 is_stmt 0 discriminator 1 view .LVU82
 313 000c 074A     		ldr	r2, .L26+4
 314 000e D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
  85:Core/Src/uart_debug.c **** 		UART_TX_Buffer_DMA_only[size] = UART_TX_Buffer[size];
 315              		.loc 1 85 2 discriminator 1 view .LVU83
 316 0010 002A     		cmp	r2, #0
 317 0012 F8D1     		bne	.L24
 318              	.LBE4:
  87:Core/Src/uart_debug.c **** 	}
  88:Core/Src/uart_debug.c **** 	HAL_UART_Transmit_DMA(&huart1,(uint8_t*)UART_TX_Buffer_DMA_only,tx_buffer_end_pos);
 319              		.loc 1 88 2 is_stmt 1 view .LVU84
 320 0014 064C     		ldr	r4, .L26+8
 321 0016 2288     		ldrh	r2, [r4]
 322 0018 0349     		ldr	r1, .L26
 323 001a 0648     		ldr	r0, .L26+12
 324 001c FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 325              	.LVL16:
  89:Core/Src/uart_debug.c **** 	tx_buffer_end_pos=0;
 326              		.loc 1 89 2 view .LVU85
 327              		.loc 1 89 19 is_stmt 0 view .LVU86
 328 0020 0023     		movs	r3, #0
 329 0022 2380     		strh	r3, [r4]	@ movhi
  90:Core/Src/uart_debug.c **** }
 330              		.loc 1 90 1 view .LVU87
 331 0024 10BD     		pop	{r4, pc}
 332              	.L27:
 333 0026 00BF     		.align	2
 334              	.L26:
 335 0028 00000000 		.word	.LANCHOR2
 336 002c 00000000 		.word	.LANCHOR1
 337 0030 00000000 		.word	.LANCHOR0
 338 0034 00000000 		.word	huart1
 339              		.cfi_endproc
 340              	.LFE130:
 342              		.section	.text.reverse,"ax",%progbits
 343              		.align	1
 344              		.global	reverse
 345              		.syntax unified
 346              		.thumb
 347              		.thumb_func
 349              	reverse:
 350              	.LVL17:
 351              	.LFB131:
  91:Core/Src/uart_debug.c **** 
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 9


  92:Core/Src/uart_debug.c **** // UART1 reverse
  93:Core/Src/uart_debug.c **** void reverse(uint8_t *s){
 352              		.loc 1 93 25 is_stmt 1 view -0
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 0
 355              		@ frame_needed = 0, uses_anonymous_args = 0
 356              		.loc 1 93 25 is_stmt 0 view .LVU89
 357 0000 10B5     		push	{r4, lr}
 358              	.LCFI5:
 359              		.cfi_def_cfa_offset 8
 360              		.cfi_offset 4, -8
 361              		.cfi_offset 14, -4
 362 0002 0446     		mov	r4, r0
  94:Core/Src/uart_debug.c **** 	uint32_t c, i, j;
 363              		.loc 1 94 2 is_stmt 1 view .LVU90
  95:Core/Src/uart_debug.c **** 
  96:Core/Src/uart_debug.c **** 	for (i = 0, j = strlen((char*)s)-1; i<j; i++, j--) {
 364              		.loc 1 96 2 view .LVU91
 365              	.LVL18:
 366              		.loc 1 96 18 is_stmt 0 view .LVU92
 367 0004 FFF7FEFF 		bl	strlen
 368              	.LVL19:
 369              		.loc 1 96 16 view .LVU93
 370 0008 431E     		subs	r3, r0, #1
 371              	.LVL20:
 372              		.loc 1 96 9 view .LVU94
 373 000a 0022     		movs	r2, #0
 374              		.loc 1 96 2 view .LVU95
 375 000c 05E0     		b	.L29
 376              	.LVL21:
 377              	.L30:
  97:Core/Src/uart_debug.c **** 		c = s[i];
 378              		.loc 1 97 3 is_stmt 1 discriminator 3 view .LVU96
 379              		.loc 1 97 8 is_stmt 0 discriminator 3 view .LVU97
 380 000e A15C     		ldrb	r1, [r4, r2]	@ zero_extendqisi2
 381              	.LVL22:
  98:Core/Src/uart_debug.c **** 		s[i] = s[j];
 382              		.loc 1 98 3 is_stmt 1 discriminator 3 view .LVU98
 383              		.loc 1 98 11 is_stmt 0 discriminator 3 view .LVU99
 384 0010 E05C     		ldrb	r0, [r4, r3]	@ zero_extendqisi2
 385              		.loc 1 98 8 discriminator 3 view .LVU100
 386 0012 A054     		strb	r0, [r4, r2]
  99:Core/Src/uart_debug.c **** 		s[j] = c;
 387              		.loc 1 99 3 is_stmt 1 discriminator 3 view .LVU101
 388              		.loc 1 99 8 is_stmt 0 discriminator 3 view .LVU102
 389 0014 E154     		strb	r1, [r4, r3]
  96:Core/Src/uart_debug.c **** 		c = s[i];
 390              		.loc 1 96 43 is_stmt 1 discriminator 3 view .LVU103
  96:Core/Src/uart_debug.c **** 		c = s[i];
 391              		.loc 1 96 44 is_stmt 0 discriminator 3 view .LVU104
 392 0016 0132     		adds	r2, r2, #1
 393              	.LVL23:
  96:Core/Src/uart_debug.c **** 		c = s[i];
 394              		.loc 1 96 49 discriminator 3 view .LVU105
 395 0018 013B     		subs	r3, r3, #1
 396              	.LVL24:
 397              	.L29:
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 10


  96:Core/Src/uart_debug.c **** 		c = s[i];
 398              		.loc 1 96 38 is_stmt 1 discriminator 1 view .LVU106
  96:Core/Src/uart_debug.c **** 		c = s[i];
 399              		.loc 1 96 2 is_stmt 0 discriminator 1 view .LVU107
 400 001a 9A42     		cmp	r2, r3
 401 001c F7D3     		bcc	.L30
 100:Core/Src/uart_debug.c **** 	}
 101:Core/Src/uart_debug.c **** }
 402              		.loc 1 101 1 view .LVU108
 403 001e 10BD     		pop	{r4, pc}
 404              		.loc 1 101 1 view .LVU109
 405              		.cfi_endproc
 406              	.LFE131:
 408              		.section	.text.ui32toa,"ax",%progbits
 409              		.align	1
 410              		.global	ui32toa
 411              		.syntax unified
 412              		.thumb
 413              		.thumb_func
 415              	ui32toa:
 416              	.LVL25:
 417              	.LFB132:
 102:Core/Src/uart_debug.c **** 
 103:Core/Src/uart_debug.c **** // UART1 ui32toa
 104:Core/Src/uart_debug.c **** uint16_t ui32toa(uint32_t n, uint8_t *s){
 418              		.loc 1 104 41 is_stmt 1 view -0
 419              		.cfi_startproc
 420              		@ args = 0, pretend = 0, frame = 0
 421              		@ frame_needed = 0, uses_anonymous_args = 0
 422              		.loc 1 104 41 is_stmt 0 view .LVU111
 423 0000 10B5     		push	{r4, lr}
 424              	.LCFI6:
 425              		.cfi_def_cfa_offset 8
 426              		.cfi_offset 4, -8
 427              		.cfi_offset 14, -4
 428 0002 0246     		mov	r2, r0
 429 0004 0846     		mov	r0, r1
 430              	.LVL26:
 105:Core/Src/uart_debug.c **** 	uint16_t i = 0;
 431              		.loc 1 105 2 is_stmt 1 view .LVU112
 432              		.loc 1 105 11 is_stmt 0 view .LVU113
 433 0006 0024     		movs	r4, #0
 434              	.LVL27:
 435              	.L33:
 106:Core/Src/uart_debug.c **** 
 107:Core/Src/uart_debug.c **** 	do {       																// generate digits in reverse order
 436              		.loc 1 107 2 is_stmt 1 discriminator 1 view .LVU114
 108:Core/Src/uart_debug.c **** 		s[i++] = n % 10 + '0';   								// get next digit
 437              		.loc 1 108 3 discriminator 1 view .LVU115
 438              		.loc 1 108 14 is_stmt 0 discriminator 1 view .LVU116
 439 0008 0C4B     		ldr	r3, .L35
 440 000a A3FB0213 		umull	r1, r3, r3, r2
 441 000e DB08     		lsrs	r3, r3, #3
 442 0010 9C46     		mov	ip, r3
 443 0012 03EB8303 		add	r3, r3, r3, lsl #2
 444 0016 A2EB4303 		sub	r3, r2, r3, lsl #1
 445 001a A646     		mov	lr, r4
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 11


 446              		.loc 1 108 6 discriminator 1 view .LVU117
 447 001c 0134     		adds	r4, r4, #1
 448              	.LVL28:
 449              		.loc 1 108 6 discriminator 1 view .LVU118
 450 001e A4B2     		uxth	r4, r4
 451              	.LVL29:
 452              		.loc 1 108 19 discriminator 1 view .LVU119
 453 0020 3033     		adds	r3, r3, #48
 454              		.loc 1 108 10 discriminator 1 view .LVU120
 455 0022 00F80E30 		strb	r3, [r0, lr]
 109:Core/Src/uart_debug.c **** 	} while ((n /= 10) > 0);     							// delete it
 456              		.loc 1 109 10 is_stmt 1 discriminator 1 view .LVU121
 457 0026 1346     		mov	r3, r2
 458              		.loc 1 109 14 is_stmt 0 discriminator 1 view .LVU122
 459 0028 6246     		mov	r2, ip
 460              	.LVL30:
 461              		.loc 1 109 2 discriminator 1 view .LVU123
 462 002a 092B     		cmp	r3, #9
 463 002c ECD8     		bhi	.L33
 110:Core/Src/uart_debug.c **** 	s[i] = '\0';
 464              		.loc 1 110 2 is_stmt 1 view .LVU124
 465              		.loc 1 110 7 is_stmt 0 view .LVU125
 466 002e 0023     		movs	r3, #0
 467 0030 0355     		strb	r3, [r0, r4]
 111:Core/Src/uart_debug.c **** 	reverse(s);
 468              		.loc 1 111 2 is_stmt 1 view .LVU126
 469 0032 FFF7FEFF 		bl	reverse
 470              	.LVL31:
 112:Core/Src/uart_debug.c **** 	return i;
 471              		.loc 1 112 2 view .LVU127
 113:Core/Src/uart_debug.c **** }
 472              		.loc 1 113 1 is_stmt 0 view .LVU128
 473 0036 2046     		mov	r0, r4
 474 0038 10BD     		pop	{r4, pc}
 475              	.LVL32:
 476              	.L36:
 477              		.loc 1 113 1 view .LVU129
 478 003a 00BF     		.align	2
 479              	.L35:
 480 003c CDCCCCCC 		.word	-858993459
 481              		.cfi_endproc
 482              	.LFE132:
 484              		.section	.text.UART_transmit_ui32,"ax",%progbits
 485              		.align	1
 486              		.global	UART_transmit_ui32
 487              		.syntax unified
 488              		.thumb
 489              		.thumb_func
 491              	UART_transmit_ui32:
 492              	.LVL33:
 493              	.LFB128:
  65:Core/Src/uart_debug.c **** 
 494              		.loc 1 65 38 is_stmt 1 view -0
 495              		.cfi_startproc
 496              		@ args = 0, pretend = 0, frame = 0
 497              		@ frame_needed = 0, uses_anonymous_args = 0
  65:Core/Src/uart_debug.c **** 
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 12


 498              		.loc 1 65 38 is_stmt 0 view .LVU131
 499 0000 08B5     		push	{r3, lr}
 500              	.LCFI7:
 501              		.cfi_def_cfa_offset 8
 502              		.cfi_offset 3, -8
 503              		.cfi_offset 14, -4
  67:Core/Src/uart_debug.c **** 		tx_buffer_end_pos+= ui32toa(num, (uint8_t *) &UART_TX_Buffer[tx_buffer_end_pos]);
 504              		.loc 1 67 2 is_stmt 1 view .LVU132
  67:Core/Src/uart_debug.c **** 		tx_buffer_end_pos+= ui32toa(num, (uint8_t *) &UART_TX_Buffer[tx_buffer_end_pos]);
 505              		.loc 1 67 25 is_stmt 0 view .LVU133
 506 0002 094B     		ldr	r3, .L41
 507 0004 1B88     		ldrh	r3, [r3]
  67:Core/Src/uart_debug.c **** 		tx_buffer_end_pos+= ui32toa(num, (uint8_t *) &UART_TX_Buffer[tx_buffer_end_pos]);
 508              		.loc 1 67 4 view .LVU134
 509 0006 752B     		cmp	r3, #117
 510 0008 05D9     		bls	.L40
 511              	.LVL34:
 512              	.L38:
  71:Core/Src/uart_debug.c **** }
 513              		.loc 1 71 2 is_stmt 1 view .LVU135
  71:Core/Src/uart_debug.c **** }
 514              		.loc 1 71 16 is_stmt 0 view .LVU136
 515 000a 074B     		ldr	r3, .L41
 516 000c 1B88     		ldrh	r3, [r3]
  71:Core/Src/uart_debug.c **** }
 517              		.loc 1 71 36 view .LVU137
 518 000e 074A     		ldr	r2, .L41+4
 519 0010 0021     		movs	r1, #0
 520 0012 D154     		strb	r1, [r2, r3]
  72:Core/Src/uart_debug.c **** 
 521              		.loc 1 72 1 view .LVU138
 522 0014 08BD     		pop	{r3, pc}
 523              	.LVL35:
 524              	.L40:
  68:Core/Src/uart_debug.c **** 	}
 525              		.loc 1 68 3 is_stmt 1 view .LVU139
  68:Core/Src/uart_debug.c **** 	}
 526              		.loc 1 68 23 is_stmt 0 view .LVU140
 527 0016 0549     		ldr	r1, .L41+4
 528 0018 1944     		add	r1, r1, r3
 529 001a FFF7FEFF 		bl	ui32toa
 530              	.LVL36:
  68:Core/Src/uart_debug.c **** 	}
 531              		.loc 1 68 20 view .LVU141
 532 001e 024B     		ldr	r3, .L41
 533 0020 1A88     		ldrh	r2, [r3]
 534 0022 1044     		add	r0, r0, r2
 535 0024 1880     		strh	r0, [r3]	@ movhi
 536 0026 F0E7     		b	.L38
 537              	.L42:
 538              		.align	2
 539              	.L41:
 540 0028 00000000 		.word	.LANCHOR0
 541 002c 00000000 		.word	.LANCHOR1
 542              		.cfi_endproc
 543              	.LFE128:
 545              		.section	.bss.UART_TX_Buffer,"aw",%nobits
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 13


 546              		.align	2
 547              		.set	.LANCHOR1,. + 0
 550              	UART_TX_Buffer:
 551 0000 00000000 		.space	128
 551      00000000 
 551      00000000 
 551      00000000 
 551      00000000 
 552              		.section	.bss.UART_TX_Buffer_DMA_only,"aw",%nobits
 553              		.align	2
 554              		.set	.LANCHOR2,. + 0
 557              	UART_TX_Buffer_DMA_only:
 558 0000 00000000 		.space	128
 558      00000000 
 558      00000000 
 558      00000000 
 558      00000000 
 559              		.section	.bss.tx_buffer_end_pos,"aw",%nobits
 560              		.align	1
 561              		.set	.LANCHOR0,. + 0
 564              	tx_buffer_end_pos:
 565 0000 0000     		.space	2
 566              		.text
 567              	.Letext0:
 568              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 569              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 570              		.file 4 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f302x8.h"
 571              		.file 5 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 572              		.file 6 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 573              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 574              		.file 8 "Core/Inc/usart.h"
 575              		.file 9 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
ARM GAS  C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 uart_debug.c
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:20     .text.UART_transmit_string:00000000 $t
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:26     .text.UART_transmit_string:00000000 UART_transmit_string
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:100    .text.UART_transmit_string:00000030 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:106    .text.UART_writeLine:00000000 $t
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:112    .text.UART_writeLine:00000000 UART_writeLine
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:212    .text.UART_writeLine:00000050 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:218    .text.UART_transmit_crlf:00000000 $t
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:224    .text.UART_transmit_crlf:00000000 UART_transmit_crlf
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:269    .text.UART_transmit_crlf:00000030 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:275    .text.UART_transmit_buffer:00000000 $t
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:281    .text.UART_transmit_buffer:00000000 UART_transmit_buffer
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:335    .text.UART_transmit_buffer:00000028 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:343    .text.reverse:00000000 $t
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:349    .text.reverse:00000000 reverse
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:409    .text.ui32toa:00000000 $t
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:415    .text.ui32toa:00000000 ui32toa
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:480    .text.ui32toa:0000003c $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:485    .text.UART_transmit_ui32:00000000 $t
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:491    .text.UART_transmit_ui32:00000000 UART_transmit_ui32
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:540    .text.UART_transmit_ui32:00000028 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:546    .bss.UART_TX_Buffer:00000000 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:550    .bss.UART_TX_Buffer:00000000 UART_TX_Buffer
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:553    .bss.UART_TX_Buffer_DMA_only:00000000 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:557    .bss.UART_TX_Buffer_DMA_only:00000000 UART_TX_Buffer_DMA_only
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:560    .bss.tx_buffer_end_pos:00000000 $d
C:\Users\Simio\AppData\Local\Temp\ccMyiXVx.s:564    .bss.tx_buffer_end_pos:00000000 tx_buffer_end_pos

UNDEFINED SYMBOLS
HAL_UART_Transmit_DMA
huart1
strlen
